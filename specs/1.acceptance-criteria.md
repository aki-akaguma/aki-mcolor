# aki-mcolor: Acceptance Criteria (EARS)

This document provides the acceptance criteria for the `aki-mcolor` utility, written in EARS (Easy Approach to Requirements Syntax) format.

## General

- **AC1:** When text is provided to standard input, **the system shall** process it and write the resulting text to standard output.
- **AC2:** When input text contains no matches for any provided regular expressions, **the system shall** output the text unmodified.
- **AC3:** When the output stream is closed prematurely (a broken pipe), **the system shall** exit gracefully without printing an error.

## Color Highlighting

- **AC4:** Where the `--red <exp>` option is used, **the system shall** color all substrings matching the regular expression `<exp>` in red.
- **AC5:** Where the `--green <exp>` option is used, **the system shall** color all substrings matching the regular expression `<exp>` in green.
- **AC6:** Where the `--blue <exp>` option is used, **the system shall** color all substrings matching the regular expression `<exp>` in blue.
- **AC7:** Where the `--cyan <exp>` option is used, **the system shall** color all substrings matching the regular expression `<exp>` in cyan.
- **AC8:** Where the `--magenda <exp>` option is used, **the system shall** color all substrings matching the regular expression `<exp>` in magenta.
- **AC9:** Where the `--yellow <exp>` option is used, **the system shall** color all substrings matching the regular expression `<exp>` in yellow.
- **AC10:** Where the `--unmark <exp>` option is used, **the system shall** not apply any color to substrings matching the regular expression `<exp>`.
- **AC11:** When multiple color options match the same text segment, **the system shall** ensure the color from the last-specified option is applied.

## Command-Line Options

- **AC12:** When the application is launched with the `--help` (or `-H`) flag, **the system shall** display a help message to stdout and exit successfully.
- **AC13:** When the application is launched with the `--version` (or `-V`) flag, **the system shall** display version information to stdout and exit successfully.

## Error Handling

- **AC14:** If the application is launched with no color-defining options (`-r`, `-g`, `-b`, `-c`, `-m`, `-y`, `-u`), **then the system shall** write an error message to stderr and exit with a non-zero status code.

## Customization (via Environment Variables)

- **AC15:** Where the `AKI_MCOLOR_COLOR_SEQ_RED_ST` environment variable is set, **the system shall** use its value as the start sequence for red coloring.
- **AC16:** Where the `AKI_MCOLOR_COLOR_SEQ_GREEN_ST` environment variable is set, **the system shall** use its value as the start sequence for green coloring.
- **AC17:** Where the `AKI_MCOLOR_COLOR_SEQ_BLUE_ST` environment variable is set, **the system shall** use its value as the start sequence for blue coloring.
- **AC18:** Where the `AKI_MCOLOR_COLOR_SEQ_CYAN_ST` environment variable is set, **the system shall** use its value as the start sequence for cyan coloring.
- **AC19:** Where the `AKI_MCOLOR_COLOR_SEQ_MAGENDA_ST` environment variable is set, **the system shall** use its value as the start sequence for magenta coloring.
- **AC20:** Where the `AKI_MCOLOR_COLOR_SEQ_YELLOW_ST` environment variable is set, **the system shall** use its value as the start sequence for yellow coloring.
- **AC21:** Where the `AKI_MCOLOR_COLOR_SEQ_ED` environment variable is set, **the system shall** use its value as the sequence for ending any color.
